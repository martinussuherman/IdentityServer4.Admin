@inject IViewLocalizer Localizer
@using Microsoft.AspNetCore.Mvc.Localization
@model Skoruba.IdentityServer4.STS.Identity.ViewModels.Account.LoginWith2faViewModel

@{
    Layout = "_SimyanfarLayout";
    ViewData["Title"] = Localizer["Title"];
}

<div class="container center-container">
    <div class="page-header">
        <img src='@Url.Content("~/images/logo-simyanfar.png")' />
    </div>

    <div class="card mt-3 round-2em bg-white-80">
        <div class="card-header">
            <h2>@ViewData["Title"]</h2>
            <h4>@Localizer["Info"]</h4>
        </div>

        <div class="card-body">
            @await Html.PartialAsync("_ValidationSummary")

            <form method="post" asp-route-returnUrl="@Model.ReturnUrl">
                <input asp-for="RememberMe" type="hidden" />
                <input asp-for="ReturnUrl" type="hidden" />
                <div class="form-group">
                    <label asp-for="TwoFactorCode">@Localizer["Code"]</label>
                    <input asp-for="TwoFactorCode" class="form-control" autocomplete="off" autofocus />
                    <span asp-validation-for="TwoFactorCode" class="text-danger"></span>
                </div>
                <div class="form-group">
                    <div class="checkbox">
                        <div>                        
                            @Localizer["Remember"]
                        </div>
                        <toggle-button>
                            <input asp-for="RememberMachine" />
                        </toggle-button>
                    </div>
                </div>
                <div class="form-group">
                    <button type="submit" class="btn btn-primary btn-block">@Localizer["LogIn"]</button>
                </div>
            </form>

            <p>
                @Localizer["NoAuthenticatorDevice"]
                <a asp-action="LoginWithRecoveryCode" asp-route-returnUrl="@Model.ReturnUrl">@Localizer["LoginWithRecoveryCode"]</a>
            </p>
        </div>
    </div>
</div>
